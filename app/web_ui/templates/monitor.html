{% extends "layout.html" %}

{% block content %}

<h2>{{ title }}.</h2>
<h3>{{ message }}</h3>
<script>
    data = {
        "Name": "AppscanAgent",
        "AgentIP": "127.0.0.1",
        "AgentPort": 5000,
        "Time": "1271231231.100",
        "State": "Online"
    }
    var add_wvs_agent_state = function (data) {
        var newstate = "<tr id='"+data["Name"] +"'>\n" +
            " <td>"+data["Name"] +"</td>\n" +
            "  <td>"+ data["AgentIP"] +"</td>\n" +
            " <td>"+ data["AgentPort"] +"</td>\n" +
            " <td>"+ data["Time"] +"</td>\n" +
            " <td>"+ data["State"] +"</td>\n" +
            " </tr>"
        var tr_id = data["Name"]
        $("tbody#agent_state_table_body").append(newstate);
        $("tr[id='"+tr_id+"']").addClass("danger")
    }
    $(document).ready(function(){
        add_wvs_agent_state(data)
    });
</script>
<div class="row">
    <div class="col-lg-6">
        <!-- col-lg-6 start here -->
        <div class="panel panel-info toggle panelRefresh" id="spr_6">
            <!-- Start .panel -->
            <div class="panel-heading">
                <h4 class="panel-title">系统参数</h4>
                <div class="panel-controls panel-controls-hide" style="display: none;">
                    <a href="#" class="panel-refresh"><i class="im-spinner6"></i></a>
                    <a href="#" class="toggle panel-minimize"><i class="im-minus"></i></a>
                </div>
            </div>
            <div class="panel-body"  style="margin: 0px; padding: 0px;">
                <form action="#" class="form-horizontal">
                    <div class="form-group" style="margin: 0px; padding: 0px;">
                        <label class="col-lg-4 control-label">控制中心IP</label>
                        <div class="col-lg-8">
                            <label class="col-lg-8 control-label">192.168.1.31</label>
                        </div>
                    </div>
                    <div class="form-group" style="margin: 0px; padding: 0px;">
                        <label class="col-lg-4 control-label">控制中心监听端口</label>
                        <div class="col-lg-8">
                            <label class="col-lg-8 control-label">6000</label>
                        </div>
                    </div>
                    <div class="form-group" style="margin: 0px; padding: 0px;">
                        <label class="col-lg-4 control-label">通信协议</label>
                        <div class="col-lg-8">
                            <label class="col-lg-8 control-label">UDP</label>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <div class="col-lg-6">
        <!-- col-lg-6 start here -->
        <div class="panel panel-info toggle panelRefresh" id="spr_6">
            <!-- Start .panel -->
            <div class="panel-heading">
                <h4 class="panel-title">扫描参数</h4>
                <div class="panel-controls panel-controls-hide" style="display: none;"><a href="#" class="panel-refresh"><i class="im-spinner6"></i></a><a href="#" class="toggle panel-minimize"><i class="im-minus"></i></a></div></div>
            <div class="panel-body"  style="margin: 0px; padding: 0px;">
                <form action="#" class="form-horizontal" >
                    <div class="form-group" style="margin: 0px; padding: 0px;" >
                        <label class="col-lg-4 control-label" >扫描起始URL</label>
                        <div class="col-lg-8">
                            <label class="col-lg-8 control-label">http://127.0.0.1/monitor</label>
                        </div>
                    </div>
                    <div class="form-group" style="margin: 0px; padding: 0px;">
                        <label class="col-lg-4 control-label">扫描策略</label>
                        <div class="col-lg-8">
                            <label class="col-lg-8 control-label">Normal</label>
                        </div>
                    </div>
                    <div class="form-group" style="margin: 0px; padding: 0px;">
                        <label class="col-lg-4 control-label">&nbsp;</label>
                        <div class="col-lg-8">
                            <label class="col-lg-8 control-label">&nbsp;</label>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
<div class="row">
    <div class="col-lg-12">
    <h4 class="page-header"><i class="im-table2"></i> 运行状态</h4>
    </div>
    <div class="col-lg-12 ">
    <div class="panel panel-primary plain toggle panelClose panelRefresh" id="spr_1"  style="margin: 0px; padding: 0px;">
                                <!-- Start .panel -->
        <div class="panel-heading white-bg">
            <h4 class="panel-title">Web漏扫代理运行状态</h4>
            <div class="panel-controls panel-controls-hide" style="display: none;">
                <a href="#" class="panel-refresh"><i class="im-spinner6"></i></a>
                <a href="#" class="toggle panel-minimize"><i class="im-minus"></i></a>
                <a href="#" class="panel-close"><i class="im-close"></i></a>
            </div>
        </div>
        <div class="panel-body">
            <div class="slimScrollDiv" style="position: relative; overflow: hidden; width: 100%; height: auto;">
                <div class="table-responsive" style="overflow: hidden; width: 100%; height: auto;">
                    <table class="table table-bordered table-hover" id="agent_state_table">
                        <thead>
                            <tr>
                                <th class="per40">代理名称</th>
                                <th class="per40">代理IP地址</th>
                                <th class="per15">代理端口</th>
                                <th class="per15">状态时标</th>
                                <th class="per15">代理状态</th>
                            </tr>
                        </thead>
                        <tbody id="agent_state_table_body">
                            <tr class="active">
                                <td>Jacob Olsen</td>
                                <td>Developer</td>
                                <td>2530$</td>
                                <td>Developer</td>
                                <td>2530$</td>
                            </tr>
                            <tr class="info">
                                <td>Jacob Olsen</td>
                                <td>Developer</td>
                                <td>2530$</td>
                                <td>Developer</td>
                                <td>2530$</td>
                            </tr>
                            <tr class="success">
                                <td>Jacob Olsen</td>
                                <td>Developer</td>
                                <td>2530$</td>
                                <td>Developer</td>
                                <td>2530$</td>
                            </tr>
                            <tr class="danger">
                                <td>Jacob Olsen</td>
                                <td>Developer</td>
                                <td>2530$</td>
                                <td>Developer</td>
                                <td>2530$</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
    <div class="col-lg-12">
    <hr/>
    </div>
    <div class="col-lg-12 ">
        <div class="panel panel-primary plain toggle panelClose panelRefresh" id="spr_1"  style="margin: 0px; padding: 0px;">
                                <!-- Start .panel -->
        <div class="panel-heading white-bg">
            <h4 class="panel-title">Web漏扫运行状态</h4>
            <div class="panel-controls panel-controls-hide" style="display: none;">
                <a href="#" class="panel-refresh"><i class="im-spinner6"></i></a>
                <a href="#" class="toggle panel-minimize"><i class="im-minus"></i></a>
                <a href="#" class="panel-close"><i class="im-close"></i></a>
            </div>
        </div>
        <div class="panel-body">
            <div class="slimScrollDiv" style="position: relative; overflow: hidden; width: 100%; height: auto;">
                <div class="table-responsive" style="overflow: hidden; width: 100%; height: auto;">
                    <table class="table table-bordered table-hover" id="wvs_state_table">
                        <thead>
                            <tr>
                                <th class="per40">漏扫名称</th>
                                <th class="per40">代理IP地址</th>
                                <th class="per15">代理端口</th>
                                <th class="per15">状态时标</th>
                                <th class="per15">漏扫状态</th>
                            </tr>
                        </thead>
                        <tbody id="wvs_state_table_body">
                            <tr class="active">
                                <td>Jacob Olsen</td>
                                <td>Developer</td>
                                <td>2530$</td>
                                <td>Developer</td>
                                <td>2530$</td>
                            </tr>
                            <tr class="info">
                                <td>Jacob Olsen</td>
                                <td>Developer</td>
                                <td>2530$</td>
                                <td>Developer</td>
                                <td>2530$</td>
                            </tr>
                            <tr class="success">
                                <td>Jacob Olsen</td>
                                <td>Developer</td>
                                <td>2530$</td>
                                <td>Developer</td>
                                <td>2530$</td>
                            </tr>
                            <tr class="danger">
                                <td>Jacob Olsen</td>
                                <td>Developer</td>
                                <td>2530$</td>
                                <td>Developer</td>
                                <td>2530$</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    </div>
</div>
{% endblock %}
